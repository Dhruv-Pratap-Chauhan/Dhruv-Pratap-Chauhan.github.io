<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dhruv Pratap Chauhan | Portfolio</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
*{box-sizing:border-box;margin:0;padding:0;scroll-behavior:smooth}
body{
  font-family:'Poppins',sans-serif;
  background:radial-gradient(circle at top,#0f2027,#203a43,#2c5364);
  color:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
header{
  text-align:center;padding:2.5rem 1rem 1.25rem;background:rgba(0,0,0,0.35);
  border-bottom:2px solid #61dafb;
}
header img{width:110px;height:110px;border-radius:999px;border:3px solid #61dafb;display:block;margin:0.25rem auto 0.75rem}
header h1{font-size:1.9rem;font-weight:700}
header p{color:#61dafb;margin-top:0.25rem}
.typing{border-right:3px solid #61dafb;display:inline-block;animation:blink .7s infinite}

nav{margin-top:0.8rem;text-align:center}
nav button{margin:6px 6px;padding:8px 14px;border-radius:8px;border:none;background:#61dafb;color:#111;font-weight:600;cursor:pointer;box-shadow:0 0 8px #61dafb}
nav button:hover{transform:scale(1.03)}

.container{max-width:980px;margin:1.25rem auto;padding:1.2rem}

section{
  margin:1.25rem auto;border-radius:12px;padding:1.2rem;background:rgba(255,255,255,0.03);
  box-shadow:0 10px 30px rgba(0,0,0,0.45);opacity:0;transform:translateY(20px);transition:all .7s ease
}
section.show{opacity:1;transform:translateY(0)}
h2{font-size:1.35rem;margin-bottom:.75rem;padding-left:10px;border-left:4px solid #61dafb}
.projects a{display:inline-block;margin:8px;padding:10px 14px;border-radius:8px;background:#61dafb;color:#111;font-weight:600;text-decoration:none}
.projects a:hover{transform:scale(1.03)}

.map-preview{width:100%;border-radius:10px;margin-top:.75rem;display:block;transition:transform .25s,box-shadow .25s}
.map-preview:hover{transform:scale(1.02);box-shadow:0 10px 30px rgba(97,218,251,0.35)}

#game-tabs{ text-align:center;margin-bottom:.8rem }
#game-tabs button{ margin:0 8px;padding:6px 12px;border-radius:8px;border:none;background:#61dafb;color:#111;font-weight:600;cursor:pointer }
#game-tabs button.active{ box-shadow:0 0 18px rgba(97,218,251,0.5) }

.game{ display:none; text-align:center; margin-top:1rem }
.game.active{ display:block; }

/* Canvas styles */
canvas{ display:block;margin:0.8rem auto;background:#070809;border-radius:10px;border:2px solid #61dafb }

/* Scores & controls */
.score{ font-weight:700;text-align:center;margin-bottom:.4rem }
.controls{ display:flex; gap:8px; justify-content:center; margin-top:.6rem }
.controls button{ padding:8px 12px;border-radius:8px;border:none; background:#61dafb;color:#111;font-weight:700;cursor:pointer }
.mobile-controls{ display:flex; gap:8px; justify-content:center; margin-top:0.5rem }
.mobile-controls button{ padding:8px 12px;border-radius:8px;border:none;background:#61dafb;color:#111;font-weight:700;cursor:pointer }

/* footer */
footer{ text-align:center;margin-top:1.25rem;padding:1rem 0;color:#cfe }
@keyframes blink{50%{border-color:transparent}}
@media (max-width:720px){
  canvas{ width:92% !important; height:auto !important }
}
</style>
</head>
<body>

<header>
  <img src="https://files.catbox.moe/kz07cq.jpg" alt="Profile pic">
  <h1>‚ú® Dhruv Pratap Chauhan ‚ú®</h1>
  <p><span id="typing" class="typing"></span></p>
  <nav>
    <button onclick="scrollToSection('about')">About</button>
    <button onclick="scrollToSection('projects')">Projects</button>
    <button onclick="scrollToSection('games')">Games</button>
    <button onclick="scrollToSection('contact')">Contact</button>
  </nav>
</header>

<div class="container">
  <section id="about">
    <h2>About</h2>
    <p>Hi ‚Äî I'm <strong>Dhruv</strong>, a fresher at <strong>UPES Dehradun</strong>. I build interactive web things and learn constantly.</p>

    <!-- clickable screenshot (your uploaded screenshot) -->
    <a href="https://maps.app.goo.gl/GuEYiXHQpgfUDdJ58" target="_blank" rel="noopener">
      <img class="map-preview" src="https://files.catbox.moe/q7o8fs.jpg" alt="UPES screenshot (click to open maps)">
    </a>
  </section>

  <section id="projects">
    <h2>Projects</h2>
    <div class="projects">
      <a href="https://github.com/DHRUV-PRATAP-CHAUHAN" target="_blank" rel="noopener">üåü GitHub</a>
      <a href="#">‚ö° Portfolio</a>
      <a href="#">üéÆ Games</a>
    </div>
  </section>

  <section id="games">
    <h2>Mini Game Hub</h2>
    <div id="game-tabs">
      <button id="tab-snake" class="active" onclick="activateTab('snake')">üêç Snake</button>
      <button id="tab-dino" onclick="activateTab('dino')">ü¶ñ Dino</button>
      <button id="tab-paddle" onclick="activateTab('paddle')">üïπ Paddle</button>
    </div>

    <!-- Snake -->
    <div id="snake" class="game active">
      <div class="score">Score: <span id="snakeScore">0</span></div>
      <canvas id="snakeCanvas" width="400" height="400"></canvas>

      <div class="mobile-controls" aria-hidden="false">
        <button onclick="snakeMove('UP')">‚¨ÜÔ∏è</button>
        <button onclick="snakeMove('LEFT')">‚¨ÖÔ∏è</button>
        <button onclick="snakeMove('RIGHT')">‚û°Ô∏è</button>
        <button onclick="snakeMove('DOWN')">‚¨áÔ∏è</button>
      </div>

      <div class="controls">
        <button id="startSnake">‚ñ∂Ô∏è Start</button>
        <button id="restartSnake">üîÑ Restart</button>
      </div>
    </div>

    <!-- Dino -->
    <div id="dino" class="game">
      <div class="score">Score: <span id="dinoScore">0</span></div>
      <canvas id="dinoCanvas" width="500" height="200"></canvas>

      <div class="mobile-controls">
        <button onclick="dinoJump()">‚è´ Jump</button>
      </div>

      <div class="controls">
        <button id="startDino">‚ñ∂Ô∏è Start</button>
        <button id="restartDino">üîÑ Restart</button>
      </div>
    </div>

    <!-- Paddle -->
    <div id="paddle" class="game">
      <div class="score">Score: <span id="padScore">0</span></div>
      <canvas id="padCanvas" width="500" height="300"></canvas>

      <div class="controls">
        <button id="startPaddle">‚ñ∂Ô∏è Start</button>
        <button id="restartPaddle">üîÑ Restart</button>
      </div>
      <p style="text-align:center;color:#cfe;margin-top:6px;font-size:12px">Use mouse/touch to move the paddle</p>
    </div>
  </section>

  <section id="contact">
    <h2>Contact</h2>
    <p>üìß <a href="mailto:dhruvpratapchauhan7@gmail.com" style="color:#61dafb">dhruvpratapchauhan7@gmail.com</a></p>
    <p>üì∏ <a href="https://instagram.com/dhruvpratapchauhan" target="_blank" rel="noopener" style="color:#61dafb">@dhruvpratapchauhan</a></p>
    <p>üê¶ <a href="https://twitter.com/0xrajputdhruv" target="_blank" rel="noopener" style="color:#61dafb">@0xrajputdhruv</a></p>
    <p>‚úâÔ∏è <a href="https://t.me/protoic" target="_blank" rel="noopener" style="color:#61dafb">@protoic</a></p>
  </section>
</div>

<footer>
  <p>¬© 2025 Dhruv Pratap Chauhan ‚Äî Built on GitHub Pages</p>
</footer>

<script>
/* ----------------- Small helpers ----------------- */
function scrollToSection(id){ document.getElementById(id).scrollIntoView({behavior:'smooth'}); }

/* Typing effect */
const roles = ['Fresher','Learner','Explorer','Developer'];
let ri=0,rj=0,rdel=false;
(function typer(){
  const cur = roles[ri];
  document.getElementById('typing').textContent = cur.substring(0,rj);
  if(!rdel && rj < cur.length){ rj++; setTimeout(typer,120); }
  else if(rdel && rj>0){ rj--; setTimeout(typer,70); }
  else if(!rdel && rj===cur.length){ rdel=true; setTimeout(typer,900); }
  else{ rdel=false; ri=(ri+1)%roles.length; setTimeout(typer,180); }
})();

/* Section observer (single observer name ‚Äî no duplicates) */
const sectionObserver = new IntersectionObserver(entries => {
  entries.forEach(en => { if(en.isIntersecting) en.target.classList.add('show'); });
}, { threshold: 0.18 });

document.querySelectorAll('section').forEach(s => sectionObserver.observe(s));

/* Tab handling (activates tab visuals + game visibility) */
function activateTab(tabId){
  // tab buttons visuals
  document.getElementById('tab-snake').classList.toggle('active', tabId === 'snake');
  document.getElementById('tab-dino').classList.toggle('active', tabId === 'dino');
  document.getElementById('tab-paddle').classList.toggle('active', tabId === 'paddle');

  // show/hide games
  ['snake','dino','paddle'].forEach(id => {
    const el = document.getElementById(id);
    if(id === tabId){ el.classList.add('active'); } else { el.classList.remove('active'); }
  });
}

/* ---------------- Sounds (safe playback) --------------- */
/* hosted short effects (CDN). If playback blocked, code continues. */
const sounds = {
  score: new Audio('https://cdn.jsdelivr.net/gh/jweir/sounds@main/point.wav'),
  jump:  new Audio('https://cdn.jsdelivr.net/gh/jweir/sounds@main/jump.wav'),
  death: new Audio('https://cdn.jsdelivr.net/gh/jweir/sounds@main/hit.wav')
};
function playSound(name){
  try{
    const a = sounds[name];
    if(a){ a.currentTime = 0; a.play().catch(()=>{}); }
  }catch(e){}
}

/* ===================== SNAKE ===================== */
const sCanvas = document.getElementById('snakeCanvas'), sCtx = sCanvas.getContext('2d');
let sBox = 20, sSnake = [{x:9*sBox,y:10*sBox}], sFood = {x:200,y:200}, sScore = 0, sDir = null, sInterval = null, sPreview = 0;

function sRandomFood(){
  sFood.x = Math.floor(Math.random() * (sCanvas.width / sBox)) * sBox;
  sFood.y = Math.floor(Math.random() * (sCanvas.height / sBox)) * sBox;
}

function sCollide(head, arr){ return arr.some(p => p.x===head.x && p.y===head.y); }

function sDraw(){
  // clear
  sCtx.fillStyle = '#070809';
  sCtx.fillRect(0,0,sCanvas.width,sCanvas.height);

  // draw food (glow)
  sCtx.save();
  sCtx.shadowBlur = 12; sCtx.shadowColor = '#ff6b6b';
  sCtx.fillStyle = '#ff4d4d'; sCtx.fillRect(sFood.x, sFood.y, sBox, sBox);
  sCtx.restore();

  // draw snake
  sSnake.forEach((p,i) => {
    sCtx.fillStyle = i===0 ? '#7fe2ff' : '#cfeff7';
    sCtx.fillRect(p.x,p.y,sBox,sBox);
  });

  // move
  let X = sSnake[0].x, Y = sSnake[0].y;
  if(sDir === 'LEFT') X -= sBox;
  if(sDir === 'RIGHT') X += sBox;
  if(sDir === 'UP') Y -= sBox;
  if(sDir === 'DOWN') Y += sBox;

  // eat
  if(X === sFood.x && Y === sFood.y){
    sScore++; document.getElementById('snakeScore').textContent = sScore; playSound('score');
    sRandomFood();
  } else {
    sSnake.pop();
  }

  const head = {x:X,y:Y};
  if(X < 0 || Y < 0 || X >= sCanvas.width || Y >= sCanvas.height || sCollide(head, sSnake)){
    clearInterval(sInterval); sInterval = null; playSound('death'); setTimeout(()=>alert('Snake: Game Over!'),50); return;
  }
  sSnake.unshift(head);
}

/* preview */
function sDrawPreview(){
  sPreview++;
  sCtx.fillStyle = '#070809'; sCtx.fillRect(0,0,sCanvas.width,sCanvas.height);
  const midX = Math.floor(sCanvas.width/2 / sBox) * sBox;
  const midY = Math.floor(sCanvas.height/2 / sBox) * sBox;
  sCtx.fillStyle = '#7fe2ff'; sCtx.fillRect(midX, midY, sBox, sBox);
  sCtx.fillStyle = '#cfeff7'; sCtx.fillRect(midX - sBox, midY, sBox, sBox);
  // pulsing food
  sCtx.save(); sCtx.shadowBlur = 8; sCtx.shadowColor = '#ff6b6b'; sCtx.fillStyle = '#ff4d4d';
  const pulse = 1 + Math.sin(sPreview/10)*0.12;
  const fx = midX + 3*sBox, fy = midY;
  sCtx.fillRect(fx - (2*pulse), fy - (2*pulse), sBox + 4*pulse, sBox + 4*pulse);
  sCtx.restore();
}

/* input handlers */
document.addEventListener('keydown', e => {
  if(e.key === 'ArrowLeft' && sDir !== 'RIGHT') sDir = 'LEFT';
  if(e.key === 'ArrowRight' && sDir !== 'LEFT') sDir = 'RIGHT';
  if(e.key === 'ArrowUp' && sDir !== 'DOWN') sDir = 'UP';
  if(e.key === 'ArrowDown' && sDir !== 'UP') sDir = 'DOWN';
  // WASD
  if((e.key==='a' || e.key==='A') && sDir!=='RIGHT') sDir='LEFT';
  if((e.key==='d' || e.key==='D') && sDir!=='LEFT') sDir='RIGHT';
  if((e.key==='w' || e.key==='W') && sDir!=='DOWN') sDir='UP';
  if((e.key==='s' || e.key==='S') && sDir!=='UP') sDir='DOWN';
});

function snakeMove(dir){ sDir = dir; }

/* start/restart */
document.getElementById('startSnake').addEventListener('click', ()=>{
  sSnake = [{x:9*sBox,y:10*sBox}]; sScore=0; sDir=null; document.getElementById('snakeScore').textContent='0'; sRandomFood();
  if(sInterval) clearInterval(sInterval);
  sInterval = setInterval(sDraw, 100);
});
document.getElementById('restartSnake').addEventListener('click', ()=>{
  if(sInterval) clearInterval(sInterval);
  sSnake = [{x:9*sBox,y:10*sBox}]; sScore=0; sDir=null; document.getElementById('snakeScore').textContent='0'; sRandomFood();
  sInterval = setInterval(sDraw, 100);
});

/* preview loop for snake */
setInterval(()=>{ if(!sInterval) sDrawPreview(); }, 120);

/* ===================== PADDLE ===================== */
const padCanvas = document.getElementById('padCanvas'), padCtx = padCanvas.getContext('2d');
let padWidth = 110, padHeight = 12, padX = (padCanvas.width - padWidth)/2;
let ball = {x: padCanvas.width/2, y: padCanvas.height/2, r:8, vx:3, vy:-3};
let padScore = 0, padInterval = null, speedMult = 1;

function padDraw(){
  padCtx.fillStyle = '#070809'; padCtx.fillRect(0,0,padCanvas.width,padCanvas.height);
  padCtx.fillStyle = '#7fe2ff'; padCtx.fillRect(padX, padCanvas.height - 28, padWidth, padHeight);
  padCtx.save(); padCtx.shadowBlur = 12; padCtx.shadowColor = '#ff6b6b'; padCtx.fillStyle = '#ff7676';
  padCtx.beginPath(); padCtx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2); padCtx.fill(); padCtx.restore();
  padCtx.fillStyle = '#fff'; padCtx.font = '16px Poppins'; padCtx.fillText('Score: ' + padScore, 12, 22);
}

function padStep(){
  padDraw();
  ball.x += ball.vx * speedMult;
  ball.y += ball.vy * speedMult;

  if(ball.x - ball.r < 0 || ball.x + ball.r > padCanvas.width) ball.vx *= -1;
  if(ball.y - ball.r < 0) ball.vy *= -1;

  const py = padCanvas.height - 28;
  if(ball.y + ball.r >= py && ball.y + ball.r <= py + padHeight + 6){
    if(ball.x >= padX && ball.x <= padX + padWidth){
      ball.vy = -Math.abs(ball.vy);
      padScore++; document.getElementById('padScore').textContent = padScore; speedMult += 0.03; playSound('score');
    }
  }

  if(ball.y - ball.r > padCanvas.height + 6){
    clearInterval(padInterval); padInterval = null; playSound('death'); setTimeout(()=>alert('Paddle: Game Over!'), 40);
  }
}

/* paddle control */
padCanvas.addEventListener('mousemove', e=>{
  const r = padCanvas.getBoundingClientRect();
  padX = Math.min(Math.max(e.clientX - r.left - padWidth/2, 0), padCanvas.width - padWidth);
});
padCanvas.addEventListener('touchmove', e=>{
  const r = padCanvas.getBoundingClientRect();
  const t = e.touches[0];
  padX = Math.min(Math.max(t.clientX - r.left - padWidth/2, 0), padCanvas.width - padWidth);
  e.preventDefault();
},{passive:false});

/* start/restart paddle */
document.getElementById('startPaddle').addEventListener('click', ()=>{
  padX = (padCanvas.width - padWidth)/2;
  ball = {x:padCanvas.width/2, y:padCanvas.height/2, r:8, vx:3, vy:-3};
  padScore = 0; speedMult = 1; document.getElementById('padScore').textContent = '0';
  if(padInterval) clearInterval(padInterval);
  padInterval = setInterval(padStep, 16);
});
document.getElementById('restartPaddle').addEventListener('click', ()=>{
  if(padInterval) clearInterval(padInterval);
  padX = (padCanvas.width - padWidth)/2;
  ball = {x:padCanvas.width/2, y:padCanvas.height/2, r:8, vx:3, vy:-3};
  padScore = 0; speedMult = 1; document.getElementById('padScore').textContent = '0';
  padInterval = setInterval(padStep, 16);
});

/* paddle preview when idle */
setInterval(()=>{
  if(!padInterval){
    padCtx.fillStyle = '#070809'; padCtx.fillRect(0,0,padCanvas.width,padCanvas.height);
    padCtx.fillStyle = '#7fe2ff'; padCtx.fillRect((padCanvas.width - padWidth)/2, padCanvas.height - 28, padWidth, padHeight);
    padCtx.beginPath(); padCtx.fillStyle = '#ff7676'; padCtx.arc(padCanvas.width/2, padCanvas.height/2, 8, 0, Math.PI*2); padCtx.fill();
    padCtx.fillStyle = '#fff'; padCtx.font = '14px Poppins'; padCtx.fillText('Preview', padCanvas.width - 90, 22);
  }
}, 140);

/* ===================== DINO ===================== */
const dCanvas = document.getElementById('dinoCanvas'), dCtx = dCanvas.getContext('2d');
let dino = {x:50, y: dCanvas.height - 30, vy:0, jumping:false};
let obstacle = { x: dCanvas.width + 60, w: 30, speed: 5 };
let dScore = 0, dInterval = null;

function drawDino(){
  dCtx.fillStyle = '#070809'; dCtx.fillRect(0,0,dCanvas.width,dCanvas.height);
  dCtx.fillStyle = '#132029'; dCtx.fillRect(0, dCanvas.height - 20, dCanvas.width, 20);
  dCtx.fillStyle = '#7fe2ff'; dCtx.fillRect(dino.x, dino.y - 30, 30, 30);
  dCtx.fillStyle = '#ff4d4d'; dCtx.fillRect(obstacle.x, dCanvas.height - 30, obstacle.w, 30);
  dCtx.fillStyle = '#fff'; dCtx.font = '16px Poppins'; dCtx.fillText('Score: ' + dScore, 12, 22);

  // Update physics
  if(dino.jumping || dino.y < dCanvas.height - 30){ dino.vy += 0.8; dino.y += dino.vy; }
  if(dino.y >= dCanvas.height - 30){ dino.y = dCanvas.height - 30; dino.vy = 0; dino.jumping = false; }

  // obstacle movement
  obstacle.x -= obstacle.speed;
  if(obstacle.x < -obstacle.w){
    obstacle.x = dCanvas.width + (40 + Math.random()*150);
    dScore++; playSound('score');
    // increase difficulty slightly
    obstacle.speed += Math.min(0.6, dScore/40);
  }

  // collision test
  const dRect = {x:dino.x, y:dino.y-30, w:30, h:30};
  const oRect = {x:obstacle.x, y:dCanvas.height - 30, w:obstacle.w, h:30};
  if(!(dRect.x > oRect.x + oRect.w || dRect.x + dRect.w < oRect.x || dRect.y > oRect.y + oRect.h || dRect.y + dRect.h < oRect.y)){
    clearInterval(dInterval); dInterval = null; playSound('death'); setTimeout(()=>alert('Dino: Game Over!'),50);
  }

  document.getElementById('dinoScore').textContent = dScore;
}

function dinoJump(){
  if(!dino.jumping && (!dInterval || dino.y >= dCanvas.height - 30)){
    dino.vy = -12; dino.jumping = true; playSound('jump');
  }
}

/* start/restart dino */
document.getElementById('startDino').addEventListener('click', ()=>{
  dino = {x:50, y: dCanvas.height - 30, vy:0, jumping:false};
  obstacle = { x: dCanvas.width + 60, w: 30, speed: 5 };
  dScore = 0; document.getElementById('dinoScore').textContent = '0';
  if(dInterval) clearInterval(dInterval);
  dInterval = setInterval(drawDino, 16);
});
document.getElementById('restartDino').addEventListener('click', ()=>{
  if(dInterval) clearInterval(dInterval);
  dino = {x:50, y: dCanvas.height - 30, vy:0, jumping:false};
  obstacle = { x: dCanvas.width + 60, w: 30, speed: 5 };
  dScore = 0; document.getElementById('dinoScore').textContent = '0';
  dInterval = setInterval(drawDino, 16);
});

/* mobile button triggers use dinoJump() above */

/* small keyboard mapping */
document.addEventListener('keydown', e=>{
  if(e.code === 'Space'){ dinoJump(); }
  // WASD + arrows for snake already supported via snakeMove/keydown listeners above
});

/* initial previews */
(function initialPreviews(){
  // draw immediate preview frames (they'll continue in their preview intervals)
  sDrawPreview();
  // pad preview drawn by interval earlier
  dCtx.fillStyle = '#070809'; dCtx.fillRect(0,0,dCanvas.width,dCanvas.height);
  dCtx.fillStyle = '#7fe2ff'; dCtx.fillRect(50, dCanvas.height - 30, 30, 30);
  dCtx.fillStyle = '#fff'; dCtx.font = '14px Poppins'; dCtx.fillText('Preview - Click Start', 10, 20);
})();

/* Pause gameplay on visibility change */
document.addEventListener('visibilitychange', ()=>{
  if(document.hidden){
    if(sInterval) { clearInterval(sInterval); sInterval = null; }
    if(padInterval) { clearInterval(padInterval); padInterval = null; }
    if(dInterval) { clearInterval(dInterval); dInterval = null; }
    Object.values(sounds).forEach(a=>{ try{ a.pause(); a.currentTime = 0; }catch(e){} });
  }
});
</script>
</body>
</html>
